<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kopi Kita</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <nav>
        <img src="assets/caffe.png" alt="Logo CoffeShop" />
        <div class="nav-links">
          <a href="#home" class="active">Home</a>
          <a href="#menu">Menu</a>
          <a href="#tentang">Tentang</a>
          <a href="#kontak">Kontak</a>
        </div>
      </nav>
    </header>

    <section class="hero-text" id="home">
      <div class="hero-content">
        <img src="assets/caffe.png" alt="Logo" />
        <h1>
          Kopi Kita
          <p>Tempat Kita Bersua dan Bercerita</p>
        </h1>
      </div>
    </section>

    <div class="section-buttons">
      <button class="menu-btn"><span>Menu</span></button>
      <button class="tentang-btn"><span>Tentang</span></button>
      <button class="kontak-btn"><span>Kontak</span></button>
    </div>

    <div class="content" style="display: flex; flex-wrap: wrap; gap: 20px">
      <!-- KIRI: menu + tentang -->
      <div class="content-left" style="flex: 1; min-width: 300px">
        <div class="menu-section" id="menu">
          <h3>Menu</h3>
          <strong>Makanan</strong>
          <div class="carousel-wrapper">
            <div class="carousel-track makanan-track">
              <div class="card">
                <img src="assets/banner.jpg" alt="Nasi Goreng" />
                <span>Nasi Goreng</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Roti Bakar" />
                <span>Roti Bakar</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Pisang Coklat" />
                <span>Pisang Coklat</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Kentang Goreng" />
                <span>Kentang Goreng</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Sate Ayam" />
                <span>Sate Ayam</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Mie Goreng" />
                <span>Mie Goreng</span>
              </div>
            </div>
          </div>
          <div class="carousel-dots makanan-dots"></div>

          <strong>Minuman</strong>
          <div class="carousel-wrapper">
            <div class="carousel-track minuman-track">
              <div class="card">
                <img src="assets/banner.jpg" alt="Kopi Hitam" />
                <span>Kopi Hitam</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Cappuccino" />
                <span>Cappuccino</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Teh Tarik" />
                <span>Teh Tarik</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Susu Jahe" />
                <span>Susu Jahe</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Es Lemon Tea" />
                <span>Es Lemon Tea</span>
              </div>
              <div class="card">
                <img src="assets/banner.jpg" alt="Matcha Latte" />
                <span>Matcha Latte</span>
              </div>
            </div>
          </div>
          <div class="carousel-dots minuman-dots"></div>
        </div>

        <div class="tentang-section" id="tentang">
          <h3>Tentang</h3>
          <strong>Profil</strong>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>

          <iframe
            style="border-radius: 20px"
            width="560"
            height="315"
            src="https://www.youtube.com/embed/ef-kDvcLvDY?si=vo9ZAOQramdmzEiG"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
        </div>
      </div>

      <!-- KANAN: testimoni -->
      <div class="content-right" style="flex: 1; min-width: 300px">
        <div class="testimonials" id="testimonials">
          <h3>Testimoni</h3>
          <div class="testimonial-card">
            Pelayanan ramah dan cepat!
            <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Tempat nyaman buat nongkrong. <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Kopinya enak banget! <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng! <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng!<span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng!<span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng! <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng! <span>- Andi</span>
          </div>
          <div class="testimonial-card">
            Rekomendasi buat kumpul bareng! <span>- Andi</span>
          </div>
        </div>
      </div>
    </div>

    <footer id="kontak">
      <div class="footer-info">
        <strong>Kopi Kita Aja</strong>
        <p>
          Dusun Krajan 1, Tegalrandu, Kec. Klakah, Kabupaten Lumajang, Jawa
          Timur 67356
        </p>
        <p>0813-3373-4499</p>
        <p>
          <a href="#" target="_blank" style="font-size: 20px"
            ><i class="fab fa-facebook-square"></i> Kopi Kita Caffe</a
          >
        </p>
        <p>
          <a href="#" target="_blank" style="font-size: 20px"
            ><i class="fab fa-instagram"></i> Kopi Kita Caffe</a
          >
        </p>
        <p>
          <a href="#" target="_blank" style="font-size: 20px"
            ><i class="fab fa-youtube"></i> Kopi Kita Caffe</a
          >
        </p>
      </div>

      <div class="subscribe-map-container">
        <div class="subscribe">
          <input
            type="text"
            placeholder="Subscribe News Latter Kami Agar Tetap Terupdate"
          />
          <button>Subscribe</button>
        </div>

        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2798.275876997!2d112.72966903175201!3d-7.313428002843551!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd7fb79e4797b2f%3A0xceca1deafe1cbaf8!2sUPT%20Pelatihan%20Dan%20Pengembangan%20Pendidikan%20Kejuruan%20%2F%20UPT%20PPK!5e0!3m2!1sid!2sid!4v1747878346172!5m2!1sid!2sid"
          width="600"
          height="450"
          style="border: 0"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
        <div style="text-align: center; margin-right: 300px">
          &copy; 2025 Kopi Kita. All rights reserved
        </div>
      </div>
    </footer>
  </body>
</html>

<script>
  function autoSlideCarouselInfinite(trackSelector, dotsSelector) {
    const track = document.querySelector(trackSelector);
    const cards = Array.from(track.children);
    const cardCount = cards.length;
    const cardWidth = cards[0].offsetWidth;
    const gap = parseInt(getComputedStyle(track).gap) || 0;

    // Clone all cards dan append ke track untuk loop seamless
    cards.forEach((card) => {
      const clone = card.cloneNode(true);
      track.appendChild(clone);
    });

    let currentIndex = 0;
    let totalCards = track.children.length; // dua kali lipat sekarang karena ada clone

    const dotsContainer = document.querySelector(dotsSelector);
    dotsContainer.innerHTML = "";

    // Buat dot sebanyak card asli (bukan clone)
    for (let i = 0; i < cardCount; i++) {
      const dot = document.createElement("span");
      dot.classList.add("dot");
      if (i === 0) dot.classList.add("active");
      dot.addEventListener("click", () => {
        currentIndex = i;
        updateCarousel(true);
      });
      dotsContainer.appendChild(dot);
    }

    function updateCarousel(jumpToIndex = false) {
      // Hitung offset berdasarkan currentIndex, hanya dengan card asli
      let offset = currentIndex * (cardWidth + gap);

      track.style.transition = jumpToIndex ? "none" : "transform 0.5s ease";
      track.style.transform = `translateX(-${offset}px)`;

      // Update dots active hanya untuk index asli
      dotsContainer.querySelectorAll(".dot").forEach((dot, i) => {
        dot.classList.toggle("active", i === currentIndex % cardCount);
      });
    }

    function moveNext() {
      currentIndex++;

      // Ketika sudah sampai setengah (akhir cards asli), langsung loncat ke awal tanpa animasi
      if (currentIndex === cardCount) {
        // pindah ke clone pertama (yang ke-(cardCount)), tanpa animasi
        updateCarousel(true);

        // segera setelah tanpa animasi, pindah ke posisi pertama dengan animasi lagi
        // kita paksa browser rerender dulu dengan setTimeout 50ms supaya transisi bekerja
        setTimeout(() => {
          currentIndex = 0;
          updateCarousel(false);
        }, 50);
      } else {
        updateCarousel(false);
      }
    }

    // Mulai interval
    setInterval(moveNext, 3000);

    // tampilkan posisi awal
    updateCarousel(true);
  }

  window.addEventListener("DOMContentLoaded", () => {
    autoSlideCarouselInfinite(".makanan-track", ".makanan-dots");
    autoSlideCarouselInfinite(".minuman-track", ".minuman-dots");
  });
</script>
